(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"N/25":function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n("6Joi");var r=n("sU+y"),i=n("6blF"),u=n("0/uQ"),a=n("67Y/"),o=n("CcnG"),c=function(){function t(t){this.authService=t}return t.prototype.resetPassword=function(t){return this.authService.fireAuth().sendPasswordResetEmail(t).then(function(){return!0}).catch(function(t){return!1})},t.prototype.loginStatus=function(){var t=this;return i.a.create(function(e){return console.log(" \u6765\u6ca1\u6765?  "),t.authService.fireAuth().onAuthStateChanged(function(t){return e.next(t?{email:t.email,uid:t.uid}:null)},function(t){return e.error(null)},function(){return e.complete()})})},t.prototype.login=function(t){var e=t.email,n=t.password;return Object(u.a)(this.authService.fireAuth().signInWithEmailAndPassword(e,n)).pipe(Object(a.a)(function(t){var e=t.user;return{email:e.email,uid:e.uid}}))},t.prototype.userdeatail=function(t){var e=this.authService.fireStore().collection("user");return Object(u.a)(e.where("userid","==",t).get()).pipe(Object(a.a)(function(t){var e;return t.forEach(function(t){e=t.data()}),e}))},t.prototype.getCurrentUser=function(){var t=this;return new Promise(function(e,n){var r=t.authService.fireAuth().onAuthStateChanged(function(t){r(),e(t)},n)})},t.ngInjectableDef=o.Z({factory:function(){return new t(o.db(r.a))},token:t,providedIn:"root"}),t}()},OW08:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("jYNz"),u=n("6blF"),a=n("psW0"),o=n("67Y/"),c=n("/WaZ"),s=function(){function t(t,e,n){var r=this;this.router=t,this.actions$=e,this.authService=n,this.login$=this.actions$.pipe(Object(i.d)(c.a.AUTH_LOGIN),Object(a.a)(function(t){return r.authService.login(t.authenticate)}),Object(a.a)(function(t){return r.authService.userdeatail(t.uid).pipe(Object(o.a)(function(t){return new c.e(t)}))})),this.loginSuccess$=this.actions$.pipe(Object(i.d)(c.a.AUTH_LOGIN_SUCCESS),Object(o.a)(function(t){r.router.navigateByUrl("/core")})),this.status$=this.actions$.pipe(Object(i.d)(c.a.AUTH_STATUS_CHECK),Object(a.a)(function(t){return r.authService.loginStatus()}),Object(a.a)(function(t){return r.authService.userdeatail(t.uid).pipe(Object(o.a)(function(t){if(console.log("---\x3e id get \u5417?",t),t)return console.log(t),new c.b({status:!0,user:t})}))}))}return Object(r.b)([Object(i.b)(),Object(r.d)("design:type",u.a)],t.prototype,"login$",void 0),Object(r.b)([Object(i.b)({dispatch:!1}),Object(r.d)("design:type",Object)],t.prototype,"loginSuccess$",void 0),Object(r.b)([Object(i.b)(),Object(r.d)("design:type",u.a)],t.prototype,"status$",void 0),t}()},PCNd:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){}},qkvP:function(t,e,n){"use strict";var r={status:!1,user:null},i=n("/WaZ");n.d(e,"a",function(){return a});var u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){switch(void 0===t&&(t=r),e.type){case i.a.AUTH_LOGIN_SUCCESS:return u({},t,{status:!0,user:e.payload});case i.a.AUTH_LOGIN_Failure:return u({},t,{status:!1,user:null});case i.a.AUTH_STATUS:return u({},t,{status:e.payload.status,user:e.payload.user});default:return t}}}}]);